<!--
------------------------------------------------------------------------------
Purpose: Wizard done partial
Description: Installation success message (for HTMX swap)

File: frontend/templates/pages/install/partials/done.html | Repository: X-Filamenta-Python
Created: 2025-12-28T12:20:00+00:00
Last modified (Git): 2025-12-28T13:58:00+01:00 | Commit: TBD

Distributed by: XAREMA | Coder: AleGabMar
App version: 0.0.1-Alpha | File version: 0.0.2-Alpha

License: AGPL-3.0-or-later
SPDX-License-Identifier: AGPL-3.0-or-later

Copyright (c) 2025 XAREMA. All rights reserved.

Metadata:

- Status: Stable
- Classification: Public
------------------------------------------------------------------------------
-->

<div class="card shadow-sm mb-3 border-success">
  <div class="card-body text-center py-5">
    <div class="mb-4">
      <span class="display-1">‚úÖ</span>
    </div>

    <h2 class="card-title text-success mb-4">
      Installation termin√©e avec succ√®s !
    </h2>

    <p class="lead mb-4">
      {{ t('wizard.done_body') or 'L\'application a √©t√© configur√©e et est pr√™te √† √™tre utilis√©e.' }}
    </p>

    <!-- D√©tails de l'installation -->
    <div class="row justify-content-center mb-4">
      <div class="col-md-8">
        <div class="card bg-light">
          <div class="card-body">
            <h5 class="card-title mb-3">{{ t('wizard.install_summary') or 'R√©sum√© de l\'installation' }}</h5>

            <div class="list-group list-group-flush">
              <!-- Base de donn√©es -->
              <div class="list-group-item d-flex justify-content-between align-items-center bg-light border-0">
                <div class="text-start">
                  <strong>{{ t('wizard.done.database') }}</strong>
                  <br>
                  <small class="text-muted">{{ state.get('db_type', 'SQLite').upper() }}</small>
                  {% if state.get('db_uri') %}
                  <br>
                  <small class="font-monospace text-muted" style="font-size: 0.75rem;">{{ state.get('db_uri', '')[:60] }}...</small>
                  {% endif %}
                </div>
                <span class="badge bg-success rounded-pill fs-5">‚úì</span>
              </div>

              <!-- Tables cr√©√©es -->
              <div class="list-group-item d-flex justify-content-between align-items-center bg-light border-0">
                <div class="text-start">
                  <strong>{{ t('wizard.done.tables_created') }}</strong>
                  <br>
                  <small class="text-muted">users, preferences, content, admin_history</small>
                </div>
                <span class="badge bg-success rounded-pill fs-5">‚úì</span>
              </div>

              <!-- Backup restaur√© (si applicable) -->
              {% if state.get('backup_ok') %}
              <div class="list-group-item d-flex justify-content-between align-items-center bg-light border-0">
                <div class="text-start">
                  <strong>{{ t('wizard.done.backup_restored') }}</strong>
                  <br>
                  <small class="text-muted">
                    {{ t('wizard.backup.size') }}: {{ (state.get('backup_size', 0) / 1024 / 1024)|round(2) }} MB
                  </small>
                  <br>
                  <small class="text-muted">
                    {{ state.get('backup_filename', 'backup.tar.gz') }}
                  </small>
                </div>
                <span class="badge bg-success rounded-pill fs-5">‚úì</span>
              </div>
              {% endif %}

              <!-- {{ t('wizard.done.admin_account') }} -->
              <div class="list-group-item d-flex justify-content-between align-items-center bg-light border-0">
                <div class="text-start">
                  <strong>{{ t('wizard.done.admin_account') }}</strong>
                  <br>
                  <small class="text-muted">
                    {{ t('wizard.done.username') }}: <strong>{{ state.get('admin_username', 'admin') }}</strong>
                  </small>
                  <br>
                  <small class="text-muted">
                    {{ t('wizard.done.email') }}: {{ state.get('admin_email', 'admin@example.com') }}
                  </small>
                </div>
                <span class="badge bg-success rounded-pill fs-5">‚úì</span>
              </div>

              <!-- Marker d'installation -->
              <div class="list-group-item d-flex justify-content-between align-items-center bg-light border-0">
                <div class="text-start">
                  <strong>{{ t('wizard.install_marker') or 'Marqueur d\'installation' }}</strong>
                  <br>
                  <small class="text-muted">instance/installed.flag</small>
                </div>
                <span class="badge bg-success rounded-pill fs-5">‚úì</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="alert alert-warning mx-auto mb-3" role="alert" style="max-width: 700px;">
      <h5 class="alert-heading">‚ö†Ô∏è Action requise : Red√©marrez le serveur</h5>
      <p class="mb-2">
        Pour que les changements de configuration prennent effet (notamment le nom de la base de donn√©es),
        vous devez <strong>red√©marrer le serveur</strong>.
      </p>
      <hr>
      <p class="mb-0">
        <strong>Commande :</strong>
        <code class="bg-dark text-white px-2 py-1 rounded">Ctrl+C</code> puis relancez le serveur
      </p>
    </div>

    <div class="alert alert-info mx-auto" role="alert" style="max-width: 600px;">
      <strong>{{ t('wizard.done.done_next') }}:</strong>
      <div class="mt-2">
        {{ t('wizard.done.done_hint') }}
      </div>
    </div>

    <div class="mt-4 d-flex flex-wrap justify-content-center gap-3">
      <a class="btn btn-primary btn-lg px-5" href="/auth/login">
        {{ t('wizard.done.goto_login') }} ‚Üí
      </a>
      <a class="btn btn-outline-secondary btn-lg px-4" href="/install/verify-db" target="_blank">
        üìä {{ t('wizard.done.view_db') }}
      </a>
    </div>
  </div>
</div>

