---
Purpose: Production environment template with security requirements
Description: Template for .env.production configuration. Copy to .env.production and configure.

File: .env.production.example | Repository: X-Filamenta-Python
Created: 2025-12-30T00:00:00+00:00
Last modified (Git): TBD | Commit: TBD

Distributed by: XAREMA | Coder: AleGabMar
App version: 0.0.1-Alpha | File version: 1.0.0

License: AGPL-3.0-or-later
SPDX-License-Identifier: AGPL-3.0-or-later

Copyright (c) 2025 XAREMA. All rights reserved.

Metadata:
- Status: Stable
- Classification: Internal
---

# ==============================================================================
# PRODUCTION Environment Variables Template
# ==============================================================================
# File: .env.production | Repository: X-Filamenta-Python
# License: AGPL-3.0-or-later | Copyright (c) 2025 XAREMA. All rights reserved.
#
# CRITICAL INSTRUCTIONS:
#   1. Copy this file to .env.production: cp .env.production.example .env.production
#   2. Replace ALL placeholder values with your actual configuration
#   3. Generate FLASK_SECRET_KEY: .\.venv\Scripts\python.exe -c "import secrets; print(secrets.token_hex(32))"
#   4. NEVER commit .env.production to version control
#   5. NEVER share this file or its values
#   6. Ensure file permissions: chmod 600 .env.production (Linux/Mac)
# ==============================================================================

# ------------------------------------------------------------------------------
# Flask Configuration (PRODUCTION ONLY)
# ------------------------------------------------------------------------------
FLASK_APP=backend.src
# CRITICAL: Generate with: python -c "import secrets; print(secrets.token_hex(32))"
# Must be â‰¥32 characters, random, and unique per environment
FLASK_SECRET_KEY=YOUR_GENERATED_SECRET_KEY_HERE_MIN_32_CHARS
FLASK_DEBUG=False
FLASK_ENV=production
FLASK_PROPAGATE_EXCEPTIONS=False

# ------------------------------------------------------------------------------
# Database Configuration (REQUIRED)
# ------------------------------------------------------------------------------
# Choose ONE: sqlite, mysql, postgresql
# RECOMMENDED for production: PostgreSQL or MySQL (NOT SQLite)
DB_TYPE=postgresql

# PostgreSQL Configuration (RECOMMENDED)
DB_USER=filamenta_user
DB_PASSWORD=YOUR_STRONG_DB_PASSWORD_HERE
DB_HOST=localhost
DB_PORT=5432
DB_NAME=x_filamenta_python

# MySQL Configuration (Alternative)
# DB_USER=filamenta_user
# DB_PASSWORD=YOUR_STRONG_DB_PASSWORD_HERE
# DB_HOST=localhost
# DB_PORT=3306
# DB_NAME=x_filamenta_python

# SQLite Configuration (Development only, NOT recommended for production)
# DB_TYPE=sqlite
# SQLALCHEMY_DATABASE_URI=sqlite:///instance/x-filamenta_python.db

# Full Database URI (if using connection string directly)
# SQLALCHEMY_DATABASE_URI=postgresql://user:password@host:5432/database

# Database Optimization (Production)
SQLALCHEMY_ECHO=False
SQLALCHEMY_TRACK_MODIFICATIONS=False
SQLALCHEMY_ENGINE_OPTIONS=pool_pre_ping=True;pool_recycle=300;pool_size=10;max_overflow=20

# ------------------------------------------------------------------------------
# Redis Cache Configuration (RECOMMENDED)
# ------------------------------------------------------------------------------
# If Redis is available (recommended for performance):
#   - cPanel: LiteSpeed Redis (may be built-in)
#   - VPS: Install redis-server
#   - Docker: Use redis service in docker-compose
# If not available, app falls back to filesystem cache

# Enable Redis
CACHE_TYPE=redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=YOUR_REDIS_PASSWORD_IF_REQUIRED
REDIS_DB=0
REDIS_SOCKET_CONNECT_TIMEOUT=5
REDIS_SOCKET_TIMEOUT=5

# Fallback: Filesystem Cache (if Redis unavailable)
# CACHE_TYPE=filesystem
# CACHE_DIR=/var/cache/x-filamenta

# Cache Settings
CACHE_DEFAULT_TIMEOUT=300
CACHE_REDIS_URL=redis://localhost:6379/0

# Session Configuration
SESSION_TYPE=redis
SESSION_REDIS=redis://localhost:6379/1
PERMANENT_SESSION_LIFETIME=3600

# ------------------------------------------------------------------------------
# Email Configuration (SMTP) - REQUIRED
# ------------------------------------------------------------------------------
# Required for email verification, password reset, and admin notifications
# IMPORTANT: Replace with your actual SMTP credentials

# Email Provider (choose one and configure accordingly)
# RECOMMENDED: SendGrid, Mailgun, or Amazon SES for production

# ===== Gmail Configuration (Simple, but requires App Password) =====
# SMTP_SERVER=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USE_TLS=true
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-specific-password  # NOT your Gmail password
# Notes:
#   - Enable 2FA on Google Account
#   - Generate App Password at https://myaccount.google.com/apppasswords
#   - Select "Mail" and "Windows Computer"

# ===== SendGrid Configuration (RECOMMENDED for production) =====
SMTP_SERVER=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USE_TLS=true
SMTP_USERNAME=apikey
SMTP_PASSWORD=SG.YOUR_SENDGRID_API_KEY_HERE

# ===== Mailgun Configuration =====
# SMTP_SERVER=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_USE_TLS=true
# SMTP_USERNAME=postmaster@your-domain.com
# SMTP_PASSWORD=YOUR_MAILGUN_PASSWORD

# ===== Amazon SES Configuration =====
# SMTP_SERVER=email-smtp.REGION.amazonaws.com
# SMTP_PORT=587
# SMTP_USE_TLS=true
# SMTP_USERNAME=YOUR_SES_USERNAME
# SMTP_PASSWORD=YOUR_SES_PASSWORD

# Email Sender Information
MAIL_FROM_EMAIL=noreply@your-domain.com
MAIL_FROM_NAME=X-Filamenta

# Email Features
EMAIL_VERIFICATION_REQUIRED=true
EMAIL_VERIFICATION_TOKEN_EXPIRY_HOURS=24
PASSWORD_RESET_TOKEN_EXPIRY_MINUTES=60
PASSWORD_RESET_RATE_LIMIT_PER_HOUR=2

# Email Format: html or text
EMAIL_FORMAT=html

# ------------------------------------------------------------------------------
# Security Configuration
# ------------------------------------------------------------------------------
# HTTPS/TLS
PREFERRED_URL_SCHEME=https
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Lax

# CSRF Protection
WTF_CSRF_ENABLED=true
WTF_CSRF_CHECK_DEFAULT=true

# Security Headers
SECURITY_HEADERS_ENABLED=true
STRICT_TRANSPORT_SECURITY_MAX_AGE=31536000
X_FRAME_OPTIONS=DENY
X_CONTENT_TYPE_OPTIONS=nosniff
X_XSS_PROTECTION=1; mode=block

# Content Security Policy
CSP_DEFAULT_SRC=self
CSP_SCRIPT_SRC=self unsafe-inline https://cdn.jsdelivr.net https://unpkg.com
CSP_STYLE_SRC=self unsafe-inline https://cdn.jsdelivr.net https://unpkg.com
CSP_FONT_SRC=self https://fonts.googleapis.com https://fonts.gstatic.com
CSP_IMG_SRC=self data: https:

# Rate Limiting
RATELIMIT_ENABLED=true
RATELIMIT_STORAGE_URL=redis://localhost:6379/2
RATELIMIT_DEFAULT=50 per hour

# 2FA/TOTP
TOTP_ENABLED=true
TOTP_ISSUER=X-Filamenta

# Login Security
LOGIN_ATTEMPT_LIMIT=5
LOGIN_ATTEMPT_LOCKOUT_MINUTES=15

# Registration
REGISTRATION_ENABLED=false

# 2FA Requirement
TWO_FA_REQUIRED=true

# CORS (if needed for API)
CORS_ORIGINS=https://your-domain.com
CORS_ALLOW_HEADERS=Content-Type,Authorization
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS

# ------------------------------------------------------------------------------
# Logging Configuration
# ------------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FILE=/var/log/x-filamenta/app.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=10
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# Sentry (Error Tracking) - Optional but recommended
SENTRY_DSN=
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# ------------------------------------------------------------------------------
# Performance & Optimization
# ------------------------------------------------------------------------------
# Asset Compression
COMPRESS_ENABLED=true
COMPRESS_MIN_SIZE=1000
COMPRESS_LEVEL=6

# Static Files
STATIC_FOLDER=frontend/static
STATIC_URL_PATH=/static
SEND_FILE_MAX_AGE_DEFAULT=31536000

# File Uploads
MAX_CONTENT_LENGTH=16777216
UPLOAD_FOLDER=/var/www/uploads
ALLOWED_EXTENSIONS=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif

# Pagination
ITEMS_PER_PAGE=20

# ------------------------------------------------------------------------------
# Backup & Database
# ------------------------------------------------------------------------------
# Automatic backups
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # 2 AM daily
BACKUP_RETENTION_DAYS=30
BACKUP_FOLDER=/var/backups/x-filamenta

# Database maintenance
DB_MAINTENANCE_ENABLED=true
DB_MAINTENANCE_SCHEDULE=0 3 * * 0  # 3 AM Sunday

# ------------------------------------------------------------------------------
# Monitoring & Alerts
# ------------------------------------------------------------------------------
# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# Uptime Monitoring
UPTIME_ROBOT_KEY=

# Email Alerts
ALERT_EMAIL=admin@your-domain.com
ALERT_CRITICAL=true
ALERT_ERROR=true
ALERT_WARNING=false

# Slack Integration (Optional)
SLACK_WEBHOOK_URL=

# Discord Integration (Optional)
DISCORD_WEBHOOK_URL=

# ------------------------------------------------------------------------------
# Deployment Information
# ------------------------------------------------------------------------------
ENVIRONMENT=production
DEPLOYMENT_TARGET=vps
DEPLOYMENT_DATE=2025-12-30
DEPLOYMENT_VERSION=0.0.1-Alpha

# Site Configuration
SITE_NAME=X-Filamenta
SITE_URL=https://your-domain.com
SITE_DESCRIPTION=Your site description
LOGO_URL=https://your-domain.com/logo.png
FAVICON_URL=https://your-domain.com/favicon.ico

# Footer
FOOTER_TEXT=Copyright (c) 2025 Your Company. All rights reserved.
FOOTER_LINKS=About|Contact|Legal|GitHub

# ==============================================================================
# END OF PRODUCTION ENVIRONMENT CONFIGURATION
# ==============================================================================
# For updates and troubleshooting, see: docs/DEPLOYMENT.md
# License: AGPL-3.0-or-later
# ==============================================================================

