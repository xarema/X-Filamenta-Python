<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>X-Filamenta - R√©f√©rence des Prompts AI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #0d6efd;
            --secondary-color: #6c757d;
            --success-color: #198754;
            --info-color: #0dcaf0;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            padding-top: 70px;
        }
        .navbar {
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .hero {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--info-color) 100%);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }
        .search-box {
            max-width: 600px;
            margin: 0 auto 2rem;
        }
        .filter-buttons {
            margin-bottom: 2rem;
        }
        .prompt-card {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s ease;
            background: white;
        }
        .prompt-card:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        .prompt-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }
        .prompt-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        .prompt-filename {
            font-size: 0.85rem;
            color: var(--secondary-color);
            font-family: 'Courier New', monospace;
        }
        .prompt-description {
            color: #495057;
            margin-bottom: 1rem;
        }
        .category-badge {
            font-size: 0.75rem;
            padding: 0.35rem 0.65rem;
            border-radius: 20px;
            font-weight: 500;
        }
        .badge-development { background-color: #0d6efd; color: white; }
        .badge-debug { background-color: #dc3545; color: white; }
        .badge-i18n { background-color: #6f42c1; color: white; }
        .badge-analysis { background-color: #0dcaf0; color: white; }
        .badge-tests { background-color: #198754; color: white; }
        .badge-documentation { background-color: #ffc107; color: #000; }
        .badge-roadmap { background-color: #fd7e14; color: white; }
        .badge-setup { background-color: #6c757d; color: white; }
        .prompt-details {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #dee2e6;
        }
        .details-section {
            margin-bottom: 1rem;
        }
        .details-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        .code-block {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 1rem;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        .stats {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 2rem;
        }
        .stat-item {
            text-align: center;
        }
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-color);
        }
        .stat-label {
            color: var(--secondary-color);
            font-size: 0.9rem;
        }
        .toc {
            position: sticky;
            top: 80px;
            max-height: calc(100vh - 100px);
            overflow-y: auto;
        }
        .toc-link {
            color: #495057;
            text-decoration: none;
            padding: 0.5rem;
            display: block;
            border-left: 3px solid transparent;
            transition: all 0.2s;
        }
        .toc-link:hover {
            background: #f8f9fa;
            border-left-color: var(--primary-color);
            color: var(--primary-color);
        }
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            display: none;
        }
        @media (max-width: 768px) {
            .toc {
                position: static;
                margin-bottom: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="#"><strong>X-Filamenta</strong> Prompts AI</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="../instructions/">Instructions</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../docs/incidents/">Incidents</a></li>
                    <li class="nav-item"><a class="nav-link" href="../../docs/">Documentation</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero">
        <div class="container text-center">
            <h1 class="display-4 fw-bold mb-3">üìö R√©f√©rence des Prompts AI</h1>
            <p class="lead">25 prompts agents pour automatiser le d√©veloppement, debug, tests, et documentation</p>
            <p class="mb-0">‚ú® Avec workflows recommand√©s et ordre d'ex√©cution pour la roadmap</p>
        </div>
    </div>

    <div class="container">
        <!-- Search and Filters -->
        <div class="search-box">
            <input type="search" id="searchInput" class="form-control form-control-lg" 
                   placeholder="üîç Rechercher un prompt...">
        </div>

        <div class="filter-buttons text-center">
            <button class="btn btn-sm btn-outline-primary me-2 filter-btn active" data-filter="all">Tous</button>
            <button class="btn btn-sm btn-outline-primary me-2 filter-btn" data-filter="development">üîß D√©veloppement</button>
            <button class="btn btn-sm btn-outline-danger me-2 filter-btn" data-filter="debug">üêõ Debug</button>
            <button class="btn btn-sm btn-outline-info me-2 filter-btn" data-filter="analysis">üìä Analyse</button>
            <button class="btn btn-sm btn-outline-success me-2 filter-btn" data-filter="tests">üß™ Tests</button>
            <button class="btn btn-sm btn-outline-warning me-2 filter-btn" data-filter="documentation">üìù Docs</button>
            <button class="btn btn-sm btn-outline-secondary me-2 filter-btn" data-filter="i18n">üåç i18n</button>
            <button class="btn btn-sm btn-outline-secondary me-2 filter-btn" data-filter="roadmap">üó∫Ô∏è Roadmap</button>
        </div>

        <!-- Statistics -->
        <div class="stats row">
            <div class="col-md-3 stat-item">
                <div class="stat-number">25</div>
                <div class="stat-label">Total Prompts</div>
            </div>
            <div class="col-md-3 stat-item">
                <div class="stat-number">8</div>
                <div class="stat-label">Cat√©gories</div>
            </div>
            <div class="col-md-3 stat-item">
                <div class="stat-number">100%</div>
                <div class="stat-label">Document√©</div>
            </div>
            <div class="col-md-3 stat-item">
                <div class="stat-number">2025</div>
                <div class="stat-label">Version</div>
            </div>
        </div>

        <!-- Roadmap Workflow Guide -->
        <div class="card mb-4 border-warning">
            <div class="card-header bg-warning text-dark">
                <h5 class="mb-0">üó∫Ô∏è Workflow Roadmap ‚Äî Ordre Recommand√©</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h6 class="fw-bold">üìã Workflow Hebdomadaire (Simple)</h6>
                        <ol class="mb-3">
                            <li><strong>update-roadmap</strong> ‚Äî Mise √† jour manuelle hebdo</li>
                            <li><em>cleanup-roadmap</em> (optionnel)</li>
                        </ol>
                        <p class="text-muted small">‚è±Ô∏è Dur√©e: 10-15 min | üìÖ Fr√©quence: Chaque lundi</p>
                    </div>
                    <div class="col-md-6">
                        <h6 class="fw-bold">üîç Workflow Bi-hebdomadaire (Audit)</h6>
                        <ol class="mb-3">
                            <li><strong>analyze-code-vs-roadmap</strong> ‚Äî Audit code r√©el</li>
                            <li>Si gaps trouv√©s: <strong>generate-completion-plan</strong></li>
                            <li><em>cleanup-roadmap</em> (fin de mois)</li>
                        </ol>
                        <p class="text-muted small">‚è±Ô∏è Dur√©e: 35-45 min | üìÖ Fr√©quence: Lundis pairs</p>
                    </div>
                </div>
                <div class="row mt-3">
                    <div class="col-md-6">
                        <h6 class="fw-bold">üéØ Workflow Fin de Phase</h6>
                        <ol class="mb-3">
                            <li><strong>analyze-code-vs-roadmap</strong> (comprehensive)</li>
                            <li><strong>generate-completion-plan</strong> (si incomplet)</li>
                            <li>D√©velopper features manquantes</li>
                            <li>Re-v√©rifier avec <strong>analyze-code-vs-roadmap</strong></li>
                            <li><strong>cleanup-roadmap</strong> (archiver phase)</li>
                        </ol>
                        <p class="text-muted small">‚è±Ô∏è Dur√©e: 50-70 min | üìÖ Phase suppos√©e compl√®te</p>
                    </div>
                    <div class="col-md-6">
                        <h6 class="fw-bold">üìä Workflow Mensuel (Complet)</h6>
                        <ol class="mb-3">
                            <li><strong>analyze-code-vs-roadmap</strong> (comprehensive)</li>
                            <li><strong>cleanup-roadmap</strong> (tout nettoyer)</li>
                        </ol>
                        <p class="text-muted small">‚è±Ô∏è Dur√©e: 80-110 min | üìÖ Premier lundi du mois</p>
                        <div class="alert alert-info py-2 px-3 mt-2 mb-0">
                            <small><strong>üí° Ordre optimal:</strong> analyze ‚Üí (plan si gaps) ‚Üí (develop) ‚Üí sync ‚Üí cleanup</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Decision Matrix -->
        <div class="card mb-4 border-primary">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">‚ùì Quel Prompt Utiliser ?</h5>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table class="table table-sm table-hover">
                        <thead>
                            <tr>
                                <th>Situation</th>
                                <th>Prompt √† utiliser</th>
                                <th>Fr√©quence</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>üîÑ Lundi matin routine</td>
                                <td><a href="#update-roadmap"><strong>update-roadmap</strong></a></td>
                                <td><span class="badge bg-secondary">Hebdomadaire</span></td>
                            </tr>
                            <tr>
                                <td>üîç Doute sur exactitude roadmap</td>
                                <td><a href="#analyze-code-vs-roadmap"><strong>analyze-code-vs-roadmap</strong></a></td>
                                <td><span class="badge bg-secondary">Bi-hebdo</span></td>
                            </tr>
                            <tr>
                                <td>‚úÖ Phase suppos√©e compl√®te</td>
                                <td><a href="#analyze-code-vs-roadmap"><strong>analyze-code-vs-roadmap</strong></a> (comprehensive)</td>
                                <td><span class="badge bg-warning text-dark">Fin phase</span></td>
                            </tr>
                            <tr>
                                <td>üìã Features incompl√®tes trouv√©es</td>
                                <td><a href="#generate-completion-plan"><strong>generate-completion-plan</strong></a></td>
                                <td><span class="badge bg-info">Au besoin</span></td>
                            </tr>
                            <tr>
                                <td>üîß Nouvelle feature √† coder</td>
                                <td><a href="#add-feature-complete"><strong>add-feature-complete</strong></a> ‚Üí <a href="#generate-test-suite"><strong>generate-test-suite</strong></a></td>
                                <td><span class="badge bg-info">Au besoin</span></td>
                            </tr>
                            <tr>
                                <td>üêõ Bug d√©tect√©</td>
                                <td><a href="#debug-issue"><strong>debug-issue</strong></a></td>
                                <td><span class="badge bg-danger">Urgent</span></td>
                            </tr>
                            <tr>
                                <td>üöÄ Avant d√©ploiement</td>
                                <td><a href="#pre-production-cleanup"><strong>pre-production-cleanup</strong></a></td>
                                <td><span class="badge bg-success">Pr√©-deploy</span></td>
                            </tr>
                            <tr>
                                <td>üßπ Fin de mois</td>
                                <td><a href="#cleanup-roadmap"><strong>cleanup-roadmap</strong></a></td>
                                <td><span class="badge bg-secondary">Mensuel</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- Table of Contents -->
            <div class="col-lg-3 d-none d-lg-block">
                <div class="toc">
                    <h5 class="mb-3">Table des Mati√®res</h5>
                    <nav id="toc-nav"></nav>
                </div>
            </div>

            <!-- Prompts List -->
            <div class="col-lg-9" id="prompts-container">
                <!-- Prompts will be rendered here -->
            </div>
        </div>
    </div>

    <!-- Back to Top Button -->
    <button class="btn btn-primary btn-lg back-to-top" id="backToTop">‚Üë</button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        const prompts = [
            {
                id: 'add-feature-complete',
                title: 'Ajouter Fonctionnalit√© Compl√®te',
                filename: 'add-feature-complete.prompt.md',
                category: 'development',
                description: 'Cr√©er une fonctionnalit√© compl√®te de A √† Z: backend (routes Flask, mod√®les, services), frontend (templates Jinja, HTMX), tests (pytest), et documentation.',
                inputs: ['Feature description', 'User stories', 'Technical requirements', 'Design mockups (optional)'],
                steps: ['Database layer', 'Business logic', 'API routes', 'Frontend templates', 'i18n', 'Tests', 'Documentation'],
                example: 'Ajouter authentification utilisateur avec email/password, 2FA, et session management.',
                whenToUse: 'Nouvelle fonctionnalit√© majeure n√©cessitant DB + UI + API',
                frequency: 'as-needed',
                prerequisites: ['Sp√©cifications claires', 'User stories d√©finies'],
                nextSteps: ['generate-test-suite', 'analyze-code-vs-roadmap']
            },
            {
                id: 'debug-issue',
                title: 'D√©bugger un Probl√®me',
                filename: 'debug-issue.prompt.md',
                category: 'debug',
                description: 'Analyse syst√©matique et correction d\'un bug/erreur avec approche root cause analysis, reproduction, fix, et pr√©vention.',
                inputs: ['Issue description', 'Type (bug/error/test-failure)', 'Severity', 'Location', 'Steps to reproduce'],
                steps: ['Gather information', 'Reproduce', 'Root cause analysis', 'Fix implementation', 'Verification', 'Prevention'],
                example: 'Corriger erreur 500 sur /admin/dashboard caus√©e par probl√®me i18n manquant.',
                whenToUse: 'Bug d√©tect√© en dev ou production',
                frequency: 'as-needed',
                prerequisites: ['Description bug', 'Steps reproduction'],
                nextSteps: ['generate-test-suite (regression tests)']
            },
            {
                id: 'create-htmx-endpoint',
                title: 'Cr√©er Endpoint HTMX',
                filename: 'create-htmx-endpoint.prompt.md',
                category: 'development',
                description: 'G√©n√©rer un endpoint HTMX complet: route Flask backend, template partiel, traductions i18n (FR+EN), tests pytest.',
                inputs: ['Endpoint name', 'HTTP method', 'HTMX action', 'Response type'],
                steps: ['Backend route', 'Partial template', 'i18n keys', 'Tests', 'Documentation'],
                example: 'Cr√©er endpoint pour recherche live de produits avec autocomplete HTMX.',
                whenToUse: 'Nouvelle interaction AJAX/HTMX n√©cessaire',
                frequency: 'as-needed',
                prerequisites: ['Blueprint Flask existant', 'Fichiers i18n'],
                nextSteps: ['Test manuel', 'generate-test-suite']
            },
            {
                id: 'fix-security-issue',
                title: 'Corriger Faille S√©curit√©',
                filename: 'fix-security-issue.prompt.md',
                category: 'debug',
                description: 'Correction de vuln√©rabilit√© de s√©curit√© avec audit, impact assessment, fix prioritaire, et tests de r√©gression.',
                inputs: ['Vulnerability type', 'Severity (CVSS)', 'Affected components', 'Discovery source'],
                steps: ['Security audit', 'Impact analysis', 'Fix implementation', 'Security testing', 'Documentation'],
                example: 'Corriger SQL injection dans search endpoint, ajouter parameterized queries.',
                whenToUse: 'Vuln√©rabilit√© d√©tect√©e (scan, audit, rapport)',
                frequency: 'as-needed',
                prerequisites: ['Rapport de vuln√©rabilit√©', 'Tests d\'exploitation'],
                nextSteps: ['generate-test-suite (security tests)', 'security-audit']
            },
            {
                id: 'refactor-route',
                title: 'Refactoriser Route',
                filename: 'refactor-route.prompt.md',
                category: 'development',
                description: 'Refactoriser une route Flask existante: am√©liorer structure, s√©parer logique business, ajouter tests, maintenir compatibilit√©.',
                inputs: ['Route path', 'Current issues', 'Refactoring goals'],
                steps: ['Code analysis', 'Extract business logic', 'Improve error handling', 'Add tests', 'Update docs'],
                example: 'Refactoriser /auth/login pour extraire validation dans service s√©par√©.',
                whenToUse: 'Route trop complexe, logique m√©tier dans handler, besoin optimisation',
                frequency: 'as-needed',
                prerequisites: ['Tests existants (non-r√©gression)', 'Tuer serveurs'],
                nextSteps: ['generate-test-suite', 'dev-quality']
            },
            {
                id: 'migrate-dependency',
                title: 'Migrer D√©pendance',
                filename: 'migrate-dependency.prompt.md',
                category: 'development',
                description: 'Migrer vers nouvelle version de d√©pendance ou remplacer librairie: audit breaking changes, update code, tests de r√©gression.',
                inputs: ['Package name', 'Current version', 'Target version', 'Migration reason'],
                steps: ['Review changelog', 'Identify breaking changes', 'Update code', 'Run tests', 'Update documentation'],
                example: 'Migrer de Flask 2.x √† Flask 3.x avec nouveaux patterns.',
                whenToUse: 'Breaking changes, vuln√©rabilit√©s CVE, nouvelles fonctionnalit√©s',
                frequency: 'as-needed',
                prerequisites: ['Backup BD', 'Branche d√©di√©e', 'Plan rollback'],
                nextSteps: ['Tests complets', 'Performance check']
            },
            {
                id: 'analyze-project-stack',
                title: 'Analyser Stack Projet',
                filename: 'analyze-project-stack.prompt.md',
                category: 'analysis',
                description: 'Analyse compl√®te de la stack technique: d√©pendances, versions, architecture, patterns utilis√©s, recommandations.',
                inputs: [],
                steps: ['Scan dependencies', 'Analyze architecture', 'Review patterns', 'Generate report'],
                example: 'Analyser stack pour identifier d√©pendances obsol√®tes et risques de s√©curit√©.',
                whenToUse: 'Onboarding, audit tech, planification migration',
                frequency: 'quarterly',
                prerequisites: [],
                nextSteps: ['Documentation technique', 'migrate-dependency (si obsol√®te)']
            },
            {
                id: 'list-project-features',
                title: 'Lister Fonctionnalit√©s',
                filename: 'list-project-features.prompt.md',
                category: 'analysis',
                description: 'Inventaire complet des fonctionnalit√©s du projet: routes, templates, services, √©tat d\'impl√©mentation.',
                inputs: [],
                steps: ['Scan routes', 'List features', 'Check completion', 'Generate inventory'],
                example: 'Cr√©er inventaire de toutes les features pour documentation produit.',
                whenToUse: 'Documentation produit, release notes, comparaison roadmap',
                frequency: 'monthly',
                prerequisites: [],
                nextSteps: ['analyze-code-vs-roadmap', 'Documentation']
            },
            {
                id: 'analyze-code-vs-roadmap',
                title: 'Code vs Roadmap',
                filename: 'analyze-code-vs-roadmap.prompt.md',
                category: 'analysis',
                description: 'Comparer code impl√©ment√© avec roadmap: identifier √©carts, features manquantes, d√©viations.',
                inputs: [],
                steps: ['Parse roadmap', 'Scan codebase', 'Compare features', 'Generate gap analysis'],
                example: 'V√©rifier que toutes les features Phase 1 de la roadmap sont impl√©ment√©es.',
                whenToUse: 'Audit bi-hebdomadaire OU doute sur exactitude roadmap',
                frequency: 'bi-weekly',
                order: 1,
                prerequisites: ['Code r√©cent commit√©', 'Tests passent'],
                nextSteps: ['Si gaps trouv√©s: generate-completion-plan', 'Ensuite: sync-roadmap-from-analysis (si analyse auto)', 'cleanup-roadmap (fin workflow)']
            },
            {
                id: 'dev-quality',
                title: 'Audit Qualit√© Code',
                filename: 'dev-quality.prompt.md',
                category: 'analysis',
                description: 'Audit qualit√©: linting (ruff), typing (mypy), tests coverage, code smells, best practices.',
                inputs: [],
                steps: ['Run linters', 'Type checking', 'Test coverage', 'Code review', 'Generate report'],
                example: 'Audit complet avant release pour garantir qualit√© code.',
                whenToUse: 'Workflow quotidien dev, avant commit, avant review',
                frequency: 'daily',
                prerequisites: [],
                nextSteps: ['Fix issues', 'Commit code']
            },
            {
                id: 'security-audit',
                title: 'Audit S√©curit√©',
                filename: 'security-audit.prompt.md',
                category: 'analysis',
                description: 'Audit s√©curit√© complet: vuln√©rabilit√©s d√©pendances (pip-audit), code patterns, config, CSP, CSRF.',
                inputs: [],
                steps: ['Dependency scan', 'Code security review', 'Configuration audit', 'Generate report'],
                example: 'Audit s√©curit√© avant d√©ploiement production.',
                whenToUse: 'Avant production, apr√®s incident, audit annuel',
                frequency: 'pre-release',
                prerequisites: ['Code complet', 'Tests passent'],
                nextSteps: ['fix-security-issue (si vulns)', 'pre-production-cleanup']
            },
            {
                id: 'generate-test-suite',
                title: 'G√©n√©rer Suite Tests',
                filename: 'generate-test-suite.prompt.md',
                category: 'tests',
                description: 'G√©n√©rer suite compl√®te de tests pytest: unit tests, integration tests, fixtures, mocks.',
                inputs: ['Module to test', 'Coverage target'],
                steps: ['Analyze code', 'Generate unit tests', 'Generate integration tests', 'Setup fixtures'],
                example: 'G√©n√©rer tests complets pour module authentication (80%+ coverage).',
                whenToUse: 'Nouvelle feature, feature sans tests, apr√®s refactoring',
                frequency: 'as-needed',
                prerequisites: ['Code impl√©ment√©', 'Fichier cible existe'],
                nextSteps: ['Run tests', 'Fix failures avec debug-issue']
            },
            {
                id: 'i18n-audit-fix',
                title: 'Audit i18n & Fix',
                filename: 'i18n-audit-fix.prompt.md',
                category: 'i18n',
                description: 'Audit internationalisation: cl√©s manquantes, traductions incompl√®tes, fix auto des erreurs i18n.',
                inputs: [],
                steps: ['Scan templates', 'Check translations', 'Find missing keys', 'Generate fixes'],
                example: 'Corriger toutes les cl√©s i18n manquantes d√©tect√©es en production.',
                whenToUse: 'Erreurs i18n en prod, avant release, audit r√©gulier',
                frequency: 'as-needed',
                prerequisites: [],
                nextSteps: ['Test langues', 'V√©rifier templates']
            },
            {
                id: 'i18n-comprehensive-audit-and-fix',
                title: 'i18n Audit Complet',
                filename: 'i18n-comprehensive-audit-and-fix.prompt.md',
                category: 'i18n',
                description: 'Audit i18n exhaustif: tous les templates, toutes les langues, g√©n√©ration rapport d√©taill√©, fix automatique.',
                inputs: [],
                steps: ['Full template scan', 'Cross-language comparison', 'Generate comprehensive report', 'Auto-fix'],
                example: 'Audit complet i18n FR/EN avant release v1.0.',
                whenToUse: 'Avant release majeure, refonte i18n',
                frequency: 'pre-release',
                prerequisites: [],
                nextSteps: ['Test toutes langues', 'Validation']
            },
            {
                id: 'i18n-admin-management-implementation',
                title: 'i18n Admin Management',
                filename: 'i18n-admin-management-implementation.prompt.md',
                category: 'i18n',
                description: 'Impl√©menter interface admin pour g√©rer traductions: CRUD cl√©s i18n, import/export JSON, pr√©visualisation.',
                inputs: [],
                steps: ['Admin routes', 'Management UI', 'Import/export', 'Tests'],
                example: 'Ajouter interface admin pour que non-devs puissent √©diter traductions.',
                whenToUse: 'Besoin gestion traductions par non-devs',
                frequency: 'once',
                prerequisites: ['Admin panel existant'],
                nextSteps: ['Tests UI', 'Documentation utilisateur']
            },
            {
                id: 'i18n-audit-restructure',
                title: 'i18n Restructure',
                filename: 'i18n-audit-restructure.prompt.md',
                category: 'i18n',
                description: 'Restructurer fichiers i18n: organiser par feature/module, am√©liorer nommage, migrer cl√©s.',
                inputs: [],
                steps: ['Analyze current structure', 'Design new structure', 'Migrate keys', 'Update references'],
                example: 'R√©organiser i18n de flat structure vers structure hi√©rarchique par feature.',
                whenToUse: 'i18n d√©sordonn√©, croissance fichiers, refactoring',
                frequency: 'as-needed',
                prerequisites: ['Backup i18n files'],
                nextSteps: ['i18n-comprehensive-audit-and-fix', 'Test toutes pages']
            },
            {
                id: 'i18n-restructure-tabulator',
                title: 'i18n Tabulator Fix',
                filename: 'i18n-restructure-tabulator.prompt.md',
                category: 'i18n',
                description: 'Fix sp√©cifique i18n pour Tabulator.js: traductions colonnes, pagination, menus contextuels.',
                inputs: [],
                steps: ['Scan Tabulator instances', 'Extract i18n strings', 'Update config', 'Test'],
                example: 'Ajouter traductions FR pour tous les tableaux Tabulator du projet.',
                whenToUse: 'Tables Tabulator non traduites',
                frequency: 'as-needed',
                prerequisites: ['Tabulator install√©'],
                nextSteps: ['Test tableaux', 'V√©rifier langues']
            },
            {
                id: 'pre-production-cleanup',
                title: 'Nettoyage Pr√©-Production',
                filename: 'pre-production-cleanup.prompt.md',
                category: 'documentation',
                description: 'Checklist pr√©-production: remove debug code, clean logs, optimize, security scan, documentation update.',
                inputs: [],
                steps: ['Remove debug code', 'Clean comments/TODOs', 'Optimize', 'Security scan', 'Update docs'],
                example: 'Pr√©parer codebase pour release v1.0 en production.',
                whenToUse: 'AVANT CHAQUE d√©ploiement production',
                frequency: 'pre-deployment',
                prerequisites: ['Tests 100% pass', 'Backup planifi√©'],
                nextSteps: ['Lire rapport GO/NO-GO', 'Deploy']
            },
            {
                id: 'repository-cleanup',
                title: 'Nettoyage Repository',
                filename: 'repository-cleanup.prompt.md',
                category: 'documentation',
                description: 'Nettoyage repo: remove obsolete files, organize docs, update README, clean git history.',
                inputs: [],
                steps: ['Find obsolete files', 'Archive old docs', 'Update README', 'Clean branches'],
                example: 'Nettoyer repository apr√®s phase de d√©veloppement intensive.',
                whenToUse: 'Pr√©paration open-source, refonte repo, audit organisation',
                frequency: 'quarterly',
                prerequisites: ['Backup complet'],
                nextSteps: ['V√©rifier build', 'Update documentation']
            },
            {
                id: 'cleanup-roadmap',
                title: 'Nettoyage Roadmap',
                filename: 'cleanup-roadmap.prompt.md',
                category: 'roadmap',
                description: 'Nettoyer et mettre √† jour roadmap: marquer completed tasks, archiver old versions, update status.',
                inputs: [],
                steps: ['Review roadmap', 'Mark completed', 'Archive old', 'Update priorities'],
                example: 'Mettre √† jour roadmap apr√®s fin de Phase 1.',
                whenToUse: 'Apr√®s update/sync roadmap, fin de mois, fin de phase',
                frequency: 'monthly',
                order: 3,
                prerequisites: ['update-roadmap OU sync-roadmap-from-analysis ex√©cut√©'],
                nextSteps: ['V√©rifier .roadmap/INDEX.md g√©n√©r√©']
            },
            {
                id: 'update-roadmap',
                title: 'Mettre √† Jour Roadmap',
                filename: 'update-roadmap.prompt.md',
                category: 'roadmap',
                description: 'Update roadmap avec nouvelles features, changements de priorit√©, ajustements timeline.',
                inputs: ['New features', 'Priority changes', 'Timeline adjustments'],
                steps: ['Review current roadmap', 'Add new items', 'Update priorities', 'Adjust timeline'],
                example: 'Ajouter features Phase 2 et ajuster timeline suite √† feedback client.',
                whenToUse: 'Mise √† jour hebdomadaire manuelle OU changements de plan',
                frequency: 'weekly',
                order: 1,
                prerequisites: ['Documentation √† jour (CHANGELOG, README)'],
                nextSteps: ['cleanup-roadmap (optionnel)']
            },
            {
                id: 'generate-completion-plan',
                title: 'Plan de Compl√©tion',
                filename: 'generate-completion-plan.prompt.md',
                category: 'roadmap',
                description: 'G√©n√©rer plan d√©taill√© pour compl√©ter feature/phase: tasks breakdown, dependencies, estimation.',
                inputs: ['Feature/phase name', 'Deadline'],
                steps: ['Analyze requirements', 'Break down tasks', 'Identify dependencies', 'Estimate effort'],
                example: 'Cr√©er plan d√©taill√© pour compl√©ter authentification 2FA (Phase 4).',
                whenToUse: 'Features incompl√®tes trouv√©es dans analyze-code-vs-roadmap',
                frequency: 'as-needed',
                order: 2,
                prerequisites: ['Rapport analyze-code-vs-roadmap avec gaps identifi√©s'],
                nextSteps: ['D√©velopper selon plan', 'Re-v√©rifier avec analyze-code-vs-roadmap']
            },
            {
                id: 'add-wizard-step',
                title: 'Ajouter √âtape Wizard',
                filename: 'add-wizard-step.prompt.md',
                category: 'development',
                description: 'Ajouter nouvelle √©tape au wizard d\'installation: backend logic, template, validation, i18n.',
                inputs: ['Step name', 'Step position', 'Validation rules'],
                steps: ['Backend route', 'Template', 'Validation', 'i18n', 'Tests'],
                example: 'Ajouter √©tape "Choix th√®me" au wizard d\'installation.',
                whenToUse: 'Extension wizard installation, nouveau param√®tre config',
                frequency: 'as-needed',
                prerequisites: ['Wizard existant', 'Step number disponible'],
                nextSteps: ['Test wizard complet', 'Update breadcrumb']
            },
            {
                id: 'report-bug',
                title: 'Rapporter Bug',
                filename: 'report-bug.prompt.md',
                category: 'debug',
                description: 'Cr√©er rapport de bug standardis√© dans docs/incidents/bugs/ avec template complet.',
                inputs: ['Bug description', 'Severity', 'Steps to reproduce'],
                steps: ['Create bug report', 'Fill template', 'Update incidents index'],
                example: 'Rapporter bug de login 404 avec analyse compl√®te.',
                whenToUse: 'Bug d√©tect√© non corrig√© imm√©diatement',
                frequency: 'as-needed',
                prerequisites: ['Reproduction confirm√©e'],
                nextSteps: ['debug-issue (pour corriger)']
            },
            {
                id: 'venv-setup-windows',
                title: 'Setup venv Windows',
                filename: 'venv-setup-windows.prompt.md',
                category: 'setup',
                description: 'Guide setup environnement virtuel Python sur Windows: venv creation, activation, dependencies install.',
                inputs: [],
                steps: ['Create venv', 'Activate', 'Install dependencies', 'Verify'],
                example: 'Configurer environnement dev Python sur Windows 11.',
                whenToUse: 'Setup initial, venv corrompu, migration Python version',
                frequency: 'once',
                prerequisites: ['Python 3.11+ install√©'],
                nextSteps: ['Configure IntelliJ', 'Run Flask']
            }
        ];

        const container = document.getElementById('prompts-container');
        const searchInput = document.getElementById('searchInput');
        const filterButtons = document.querySelectorAll('.filter-btn');
        const tocNav = document.getElementById('toc-nav');
        let currentFilter = 'all';

        function renderPrompts(filter = 'all', searchTerm = '') {
            const filtered = prompts.filter(p => {
                const matchesFilter = filter === 'all' || p.category === filter;
                const matchesSearch = searchTerm === '' || 
                    p.title.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    p.description.toLowerCase().includes(searchTerm.toLowerCase()) ||
                    p.filename.toLowerCase().includes(searchTerm.toLowerCase());
                return matchesFilter && matchesSearch;
            });

            container.innerHTML = filtered.map(prompt => `
                <div class="prompt-card" data-category="${prompt.category}" id="${prompt.id}">
                    <div class="prompt-header">
                        <div>
                            <div class="prompt-title">${prompt.title}${prompt.order ? ` <span class="badge bg-info text-dark">Ordre ${prompt.order}</span>` : ''}</div>
                            <div class="prompt-filename">${prompt.filename}</div>
                        </div>
                        <div class="text-end">
                            <span class="category-badge badge-${prompt.category}">${getCategoryIcon(prompt.category)} ${getCategoryName(prompt.category)}</span>
                            ${prompt.frequency ? `<br><small class="badge bg-secondary mt-1">${getFrequencyLabel(prompt.frequency)}</small>` : ''}
                        </div>
                    </div>
                    <p class="prompt-description">${prompt.description}</p>
                    ${prompt.whenToUse ? `
                        <div class="alert alert-info py-2 px-3 mb-2">
                            <strong>üìå Quand l'utiliser:</strong> ${prompt.whenToUse}
                        </div>
                    ` : ''}
                    <details class="prompt-details">
                        <summary class="btn btn-sm btn-outline-primary">Voir les d√©tails</summary>
                        <div class="mt-3">
                            ${prompt.prerequisites && prompt.prerequisites.length > 0 ? `
                                <div class="details-section">
                                    <div class="details-title">‚ö†Ô∏è Pr√©requis:</div>
                                    <ul>
                                        ${prompt.prerequisites.map(prereq => `<li>${prereq}</li>`).join('')}
                                    </ul>
                                </div>
                            ` : ''}
                            ${prompt.inputs && prompt.inputs.length > 0 ? `
                                <div class="details-section">
                                    <div class="details-title">üìã Inputs requis:</div>
                                    <ul>
                                        ${prompt.inputs.map(input => `<li>${input}</li>`).join('')}
                                    </ul>
                                </div>
                            ` : ''}
                            <div class="details-section">
                                <div class="details-title">‚úÖ √âtapes du processus:</div>
                                <ol>
                                    ${prompt.steps.map(step => `<li>${step}</li>`).join('')}
                                </ol>
                            </div>
                            ${prompt.example ? `
                                <div class="details-section">
                                    <div class="details-title">üí° Exemple d'utilisation:</div>
                                    <div class="code-block">${prompt.example}</div>
                                </div>
                            ` : ''}
                            ${prompt.nextSteps && prompt.nextSteps.length > 0 ? `
                                <div class="details-section">
                                    <div class="details-title">‚û°Ô∏è √âtapes suivantes:</div>
                                    <ul>
                                        ${prompt.nextSteps.map(step => `<li>${step}</li>`).join('')}
                                    </ul>
                                </div>
                            ` : ''}
                            <div class="mt-3">
                                <a href="${prompt.filename}" class="btn btn-primary btn-sm">üìÑ Voir le fichier complet</a>
                            </div>
                        </div>
                    </details>
                </div>
            `).join('');

            // Update TOC
            tocNav.innerHTML = filtered.map(p => `
                <a href="#${p.id}" class="toc-link">${p.title}</a>
            `).join('');

            // Update count
            const count = filtered.length;
            document.querySelector('.stat-number').textContent = count;
        }

        function getCategoryIcon(category) {
            const icons = {
                development: 'üîß',
                debug: 'üêõ',
                i18n: 'üåç',
                analysis: 'üìä',
                tests: 'üß™',
                documentation: 'üìù',
                roadmap: 'üó∫Ô∏è',
                setup: '‚öôÔ∏è'
            };
            return icons[category] || 'üìå';
        }

        function getCategoryName(category) {
            const names = {
                development: 'D√©veloppement',
                debug: 'Debug',
                i18n: 'Internationalisation',
                analysis: 'Analyse',
                tests: 'Tests',
                documentation: 'Documentation',
                roadmap: 'Roadmap',
                setup: 'Setup'
            };
            return names[category] || category;
        }

        function getFrequencyLabel(frequency) {
            const labels = {
                'daily': 'üìÖ Quotidien',
                'weekly': 'üìÖ Hebdomadaire',
                'bi-weekly': 'üìÖ Bi-hebdomadaire',
                'monthly': 'üìÖ Mensuel',
                'quarterly': 'üìÖ Trimestriel',
                'as-needed': 'üîß Au besoin',
                'once': '1Ô∏è‚É£ Une fois',
                'pre-release': 'üöÄ Avant release',
                'pre-deployment': 'üöÄ Avant d√©ploiement'
            };
            return labels[frequency] || frequency;
        }

        // Event listeners
        searchInput.addEventListener('input', (e) => {
            renderPrompts(currentFilter, e.target.value);
        });

        filterButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                filterButtons.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentFilter = btn.dataset.filter;
                renderPrompts(currentFilter, searchInput.value);
            });
        });

        // Back to top button
        const backToTop = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 300) {
                backToTop.style.display = 'block';
            } else {
                backToTop.style.display = 'none';
            }
        });
        backToTop.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Initial render
        renderPrompts();
    </script>
</body>
</html>
